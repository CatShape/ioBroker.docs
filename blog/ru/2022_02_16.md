---
Author: ldittmar
title: Февральская встреча разработчиков
logo: de/blog/images/2022_02_16.jpg
translatedFrom: de
hash: 8h9xZUqcLOY/OkVBvDxrAcq4ozSP2GT5sghP7akTCHg=
---
Счастливого Дня TwosDay (22.02.22), уважаемое сообщество, в прошлом месяце на ioBroker снова многое произошло. После длительного периода разработки новый js-контроллер 4.0 (название выпуска «Isabelle») доступен в репозитории Beta/Latest Repository. Помимо некоторых оптимизаций и улучшений, основное внимание в этой версии уделялось повышению производительности.
Кроме того, есть и другие новости со встречи разработчиков и не только, которые мы собрали для вас здесь.
<!-- SOURCE: 334158 Happy TwosDay (22.2.22) liebe Community, auch im vergangenen Monat ist wieder viel bei ioBroker passiert. Nach längerer Entwicklungszeit ist der neue js-controller 4.0 (Release-name "Isabelle") im Beta/Latest Repository verfügbar. Neben einigen Optimierungen und Verbesserungen stand der Haupt-Fokus dieser Version auf Performance-Verbesserungen.
Darüber hinaus gibt es weitere Neuigkeiten aus dem Developer-Meeting und darüber hinaus, welche wir hier für Euch zusammengefasst haben. -->

##JS-контроллер 4.x
<!-- SOURCE: 454297 ## JS Controller 4.x -->
В новом выпуске больше не доступна поддержка Node.js 10.x, которая не поддерживалась с апреля прошлого года. Кроме того, была добавлена совместимость с Node.js 16.x и NPM 7 и 8 соответственно. Поддерживаемые версии Node.js: 12.x, 14.x и 16.x, поэтому на данный момент мы рекомендуем Node.js версии 14.x.
<!-- SOURCE: 69606 Mit dem neuen Release entfällt die Unterstützung für Node.js 10.x, welches seit April letztem Jahr nicht mehr gepflegt wird. Zusätzlich wurde die Kompatibilität für Node.js 16.x und NPM 7 bzw. 8 hinzugefügt. Die unterstützten Node.js Versionen sind damit: 12.x, 14.x und 16.x, wobei wir zum jetzigen Standpunkt die Node.js Version 14.x empfehlen. -->

С js-контроллером 4.0 база данных внутренне изменена с «файла» на «jsonl». Это происходит автоматически во время установки без каких-либо дополнительных действий, если используется файл. После завершения миграции информация об этом также появится при следующем открытии Admin 5. Но чем лучше база данных JSONL, а не файл? Файловая БД регулярно сохраняет все в большой файл JSON. Это определенно может привести к большому количеству операций ввода-вывода и не идеально подходит, в частности, для систем на основе SD-карт, но также и с SSD, поскольку это создает большую нагрузку на карту. Кроме того, есть проблема, что сбой при записи приводит к повреждению всего файла. В этих случаях ioBroker использует файл резервной копии при следующем запуске.
Здесь JSONL работает по-другому: изменения сначала только добавляются к файлу, и только в случае необходимости файл затем «сжимается» и, таким образом, перезаписывается. Битый байт в БД больше не ломает все, а сбой при записи гарантирует, что будут потеряны только еще не записанные изменения, а не все. Кроме того, JSONL защищает SD-карту с меньшим количеством операций записи.
<!-- SOURCE: 335058 Mit dem js-controller 4.0 wird intern die Datenbank von "file" auf "jsonl" umgestellt. Dies geschieht bei der Installation automatisch ohne weitere Aktionen, wenn file genutzt wird. Nach erfolgter Migration erscheint beim nächsten Öffnen des Admin 5 auch eine Information dazu. Aber was ist denn so besser an der JSONL-Datenbank anstelle von file?
Die File-DB speichert regelmäßig alles in einem großen JSON-File. Dies kann durchaus viel I/O verursachen und ist vor allem bei SD-Karten-Basierten Systemen, aber auch mit einer SSD, nicht optimal, weil es die Karte sehr belastet. Zusätzlich besteht das Problem, das ein Absturz beim Schreiben dazu führt, dass das ganze File defekt ist. ioBroker greift in diesen Fällen dann beim nächsten Start auf ein Backup-File zurück.
JSONL arbeitet hier anders: Änderungen werden erst einmal nur an die Datei angehangen und - nur wenn nötig - wird dann das File "komprimiert" und so neu geschrieben. Ein kaputtes Byte in der DB macht nicht mehr alles kaputt und ein Absturz beim Schreibvorgang sorgt nur dafür, dass die noch nicht geschriebenen Änderungen verloren gehen, nicht alles. Außerdem schont JSONL die SD-Karte durch weniger und kleinere Schreibvorgänge. -->

Ожидается, что новая версия будет доступна в стабильной ветке к концу месяца. Дополнительную информацию о контроллере JS 4 можно найти в [на форуме](https://forum.iobroker.net/topic/52208/js-controller-4-0-jetzt-im-beta-latest).
<!-- SOURCE: 726121 Die neue Version wird voraussichtlich bis Ende des Monats auch im Stable-Branch zur Verfügung stehen. Weitere Informationen zum JS-Controller 4 findet ihr §§LLLLL_0§§. -->

## Подтверждено/Подтверждено
<!-- SOURCE: 420549 ## Ack/Bestätigt -->
Тема, которая поднимается снова и снова, — флаг подтверждения. Это начинается с Blockly с «управления» или «обновления», проходит через цвета (красный, зеленый, желтый) значений в админке и заканчивается разработчиками, которые также должны правильно использовать этот флаг. В принципе, это очень просто: флаг Ack или Confirmed говорит вам, представляет ли значение команду или представляет окончательное значение, подтвержденное устройством. Допустим, вы включаете лампу через ioBroker. Для этого установите значение точки данных на «истина». ioBroker отправляет команду на лампу, но пока не получил ответа. Поэтому для флага Ack установлено значение «false». Это значение теперь не подтверждено и отображается красным цветом в админке. Затем, как только действие будет выполнено, лампа сообщит о своем новом статусе ioBroker. Это состояние устанавливается в «истинное» с помощью флага подтверждения, и можно быть уверенным, что это значение также отражает фактическое состояние лампы. Админ показывает это зеленым цветом. Если значение отображается желтым цветом в панели администрирования, это просто значение точки данных по умолчанию или другое заменяющее значение, которое не получено ни в результате управляющего действия, ни подтверждено устройством.
<!-- SOURCE: 670400 Ein Thema, das immer wieder aufkommt, ist das Ack-Flag. Das fängt beim Blockly mit dem "steuern" bzw. "aktualisieren" an, geht über die Farben (rot, grün, gelb) der Werte im Admin und endet bei den Entwicklern, die diesen Flag auch richtig einsetzen müssen. Prinzipiell ist es ganz einfach: Das Ack- oder Bestätigt-Flag sagt aus, ob ein Wert ein Kommando darstellt oder den finalen, vom Gerät bestätigen Wert repräsentiert. Nehmen wir an, man schaltet eine Lampe über ioBroker ein. Dafür setzt man den Wert des Datenpunktes auf "true". ioBroker sendet der Lampe ein Kommando, hat aber noch keine Antwort erhalten. Der Ack-Flag ist also auf "false". Dieser Wert ist jetzt nicht bestätigt und erscheint im Admin rot.  Sobald dann die Aktion ausgeführt wurde, meldet die Lampe Ihren neuen Status an ioBroker. Dieser Zustand wird mit einem Ack-Flag "true" gesetzt und man kann sicher sein, dass der Wert auch den tatsächlichen Zustand der Lampe wiederspiegelt. Admin zeigt dies in grün an. Wird ein Wert im Admin gelb dargestellt, ist einfach der Standartwert eines Datenpunktes oder ein anderer Ersatzwert, der weder von einer Steueraktion herrührt noch vom Gerät bestätigt wurde. -->

При установке значения точки данных у вас всегда есть возможность установить флаг или нет. Здесь следует отметить, что флаг Ack, установленный в значение true, не представляет никакого контроля, и устройство не будет реагировать на него, потому что вы только явно обновили точку данных. Устройствами можно управлять только с не установленными флагами!
<!-- SOURCE: 771570 Beim Setzen des Wertes eines Datenpunktes hat man immer die Möglichkeit den Flag zu setzen oder nicht. Hierbei ist zu beachten, dass ein auf true gesetzter Ack-Flag keine Steuerung darstellt, und damit das Gerät nicht drauf reagieren wird, denn man hat explizit nur den Datenpunkt aktualisiert. Geräte können nur mit nicht gesetzten Flag gesteuert werden! -->

В сценариях Blockly или Rules «управляющий» блок (Ack false) эффективно отправляет команду на устройство. При «обновлении» (Ack true) точка данных просто устанавливается на подтвержденное значение. Вы делаете это, если, например, точка данных была создана самим пользователем и вы точно знаете, что значение отражает текущий статус.
<!-- SOURCE: 528949 In Blockly- oder Rules-Skripten wird mit dem "steuern"-Block (Ack false) praktisch der Befehl zum Gerät gesendet. Beim "aktualisieren" (Ack true) wird ein Datenpunkt einfach auf einen bestätigten Wert gesetzt. Das macht man, wenn zum Beispiel der Datenpunkt vom User selbst erstellt worden ist und man genau weiß, dass der Wert den aktuellen Stand widerspiegelt. -->

Разработчики также должны убедиться, что они используют флаг в нужное время. [Вы можете найти больше информации об этом здесь](https://github.com/ioBroker/ioBroker.docs/blob/master/docs/en/dev/adapterdev.md#commands-and-statuses).
<!-- SOURCE: 641848 Auch Entwickler sollten darauf achten, dass sie den Flag zum richtigen Zeitpunkt einsetzen. §§LLLLL_0§§. -->

## Управление устройствами
<!-- SOURCE: 474882 ## Geräte-Management -->
На встрече много говорили об идее нового диспетчера устройств. В долгосрочной перспективе это должно взять на себя настройку устройств для отдельных адаптеров, чтобы у вас был только один единый интерфейс для установки, интеграции и исключения устройств. Идея еще прорабатывается и разработчики проверяют техническую реализуемость. Как только появятся более конкретные подробности, мы сообщим об этом подробнее.
<!-- SOURCE: 689172 Beim Meeting wurde viel über die Idee eines neuen Device Managers gesprochen. Dieser soll langfristig die Einstellung der Geräte bei einzelnen Adaptern übernehmen, so dass man nur eine einheitliche Oberfläche hat um Geräte einzustellen, einzubinden und auszuschließen. Noch ist die Idee dabei sich zu entwickeln und die Entwickler prüfen die technische Umsetzbarkeit. Sobald hier konkretere Details existieren werden wir darüber genauer berichten. -->

## Новые адаптеры
<!-- SOURCE: 913638 ## Neue Adapter -->
Также в этом месяце мы можем блистать некоторыми новичками.
<!-- SOURCE: 915060 Auch diesen Monat können wir mit einige Neuzugänge glänzen. -->

Температура и ветер по-прежнему ледяные! Теперь вы можете чувствовать себя комфортно дома и интегрировать кости [Термостаты Netatmo] (https://github.com/Homemade-Disaster/ioBroker.netatmo-energy) и [сауны Huum] (https://github.com/Chris-1965/ioBroker.huum-sauna) могут быть управляется через ioBroker. В области систем умного дома мы рады сообщить, что теперь у нас есть устройства от [Gigaset](https://github.com/matthsc/ioBroker.gigaset-elements), [Blebox](https://github.com /ka-vaNu/ioBroker.blebox) и [Panasonic Cloud](https://github.com/marc2016/ioBroker.panasonic-comfort-cloud). В области сигнализации [камеры Hikvision] (https://github.com/raintonr/ioBroker.hikvision-alarmserver) и в области энергетики [E3DC Hauskraftwerk] (https://github.com/git-kick/ ioBroker.e3dc-rscp) и [Resol VBus](https://github.com/Grizzelbee/ioBroker.resol).
<!-- SOURCE: 215817 Noch sind die Temperaturen und der Wind eisig kalt! Zu Hause kann man es sich jetzt gemütlich machen und die §§LLLLL_0§§ Gräte eingebunden werden. -->

Кроме того, был выпущен адаптер для [Вебунтис](https://github.com/Newan/ioBroker.webuntis). Это позволяет следить за расписанием и классной работой подключенных школ.
<!-- SOURCE: 797521 Des Weiteren wurde ein Adapter für §§LLLLL_0§§ released. Damit lassen sich die Stundenpläne sowie Klassenarbeiten von verbundenen Schulen verfolgen. -->

С [Адаптер Alexa-Timer-Vis](https://github.com/MiRo1310/ioBroker.alexa-timer-vis), вы можете использовать таймер из [Alexa2](https://github.com/Apollon77/ioBroker.alexa2) легче работать, а с помощью [адаптера Signal Messenger](https://github.com/necotec/ioBroker.signal-cmb) у нас теперь есть все более крупные мессенджеры.
<!-- SOURCE: 75048 Mit dem §§LLLLL_0§§ haben wir inzwischen alle größere Messenger an Bord. -->

Но появились не только новые адаптеры. Новый [Выпущено приложение Material для устройств Android](https://play.google.com/store/apps/details?id=com.iobrokermaterial&hl=de). Это позволяет вам получить доступ к визуализации адаптера материала, находясь в пути. [Материал](https://github.com/ioBroker/ioBroker.material) также был разработан для автоматического создания объявлений, при этом пользователю не нужно тратить много времени на его настройку.
<!-- SOURCE: 482139 Aber nicht nur neue Adapter sind erschienen. Auch die neue §§LLLLL_0§§ wurde konzipiert, um automatisch Anzeigen zu erstellen, ohne dass der Anwender viel Zeit in die Einrichtung investieren muss. -->

## Переводы
<!-- SOURCE: 559609 ## Übersetzungen -->
ioBroker теперь поддерживает 10 языков, и они автоматически переводятся на первом этапе. Мы все знакомы с этими автоматическими переводами и знаем, что они более чем поверхностны. Поскольку мы всегда придаем большое значение совершенствованию нашего проекта, мы тем временем преобразовали тексты 81 из существующих адаптеров в [ioBroker Weblate (инструмент)](https://weblate.iobroker.net/accounts/login). Здесь каждый может помочь улучшить перевод. Это также очень просто и также может быть сделано с мобильного телефона между ними.
<!-- SOURCE: 326166 ioBroker unterstützt inzwischen 10 Sprachen und diese werden im ersten Schritt automatisch übersetzt. Wir alle kennen diese automatische Übersetzung und wissen, dass sie mehr als dürftig sind. Da wir immer wieder Wert darauf legen unser Projekt zu perfektionieren, haben wir inzwischen die Texte von 81 der vorhandene Adapter in ein §§LLLLL_0§§ überführt. Hier kann jeder helfen die Übersetzungen zu verbessern. Es ist auch ganz simple und kann auch mal zwischendurch vom Handy aus gemacht werden. -->

Мы просим сообщество поддержать нас с переводом, ведь каждое переведенное или проверенное слово — это шаг вперед для всех нас. Вы должны обратить особое внимание на языки за пределами немецкого и английского, хотя они определенно нуждаются в некоторой полировке. Здесь вы найдете [подробнее для переводчиков](https://github.com/ioBrokerTranslator/doc/blob/master/translate.md). Мы хотели бы попросить разработчиков адаптеров среди вас интегрировать ваши адаптеры в [Weblate](https://github.com/ioBrokerTranslator/doc/blob/master/README.md#request-an-adapter-to-be-added-to-weblate), если ваш адаптер предлагает много текста для перевода.
<!-- SOURCE: 177929 Wir bitten die Community, uns bei der Übersetzung zu unterstützen, denn jedes übersetzte bzw verifizierte Wort, ist ein Schritt weiter für uns alle. Ein besonderes Augenmerk sollte man auf die Sprachen außerhalb von Deutsch und Englisch setzen, wobei auch diese bestimmt noch etwas Polishing vertragen können. Hier findet ihr §§LLLLL_0§§, falls euer Adapter viel Text zum Übersetzen anbietet. -->

## Заключительные слова
<!-- SOURCE: 758446 ## Abschlussworte -->
В этот раз на встрече присутствовало много людей, и мы думаем, что это здорово! ioBroker может существовать и идти дальше только вместе с вами и через вас. В самом начале встречи мы вспомнили времена до Короны и наши живые встречи, которые ежегодно проходили в Касселе. Мы надеемся, что эти времена скоро вернутся и мы снова встретимся в Касселе (или где-то еще).
<!-- SOURCE: 615273 Diesmal waren echt viele beim Meeting anwesend und das finden wir toll! ioBroker kann nur mit und durch euch existieren und weiter gehen. Gleich zu Anfang des Meetings haben wir uns an die Zeiten vor Corona und an unsere Live Meetings, die Jährlich in Kassel stattfanden, erinnert. Wir hoffen, dass diese Zeiten bald wieder zurück kommen und wir uns in Kassel (oder wo auch immer) wieder treffen. -->

Следующая встреча разработчиков состоится, как и было запланировано, 16 марта. Получайте удовольствие в мире ioBroker. Оставаться здоровым!
<!-- SOURCE: 886117 Das nächste Dev Meeting findet turnusgemäß am 16. März statt. Viel Spaß in der ioBroker Welt. Bleibt gesund! -->