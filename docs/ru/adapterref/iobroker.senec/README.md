---
BADGE-NPM version: http://img.shields.io/npm/v/iobroker.senec.svg
BADGE-Downloads: https://img.shields.io/npm/dm/iobroker.senec.svg
BADGE-Number of Installations (latest): http://iobroker.live/badges/senec-installed.svg
BADGE-Number of Installations (stable): http://iobroker.live/badges/senec-stable.svg
BADGE-Known Vulnerabilities: https://snyk.io/test/github/nobl/ioBroker.senec/badge.svg
BADGE-NPM: https://nodei.co/npm/iobroker.senec.png?downloads=true
translatedFrom: de
translatedWarning: Если вы хотите отредактировать этот документ, удалите поле «translationFrom», в противном случае этот документ будет снова автоматически переведен
editLink: https://github.com/ioBroker/ioBroker.docs/edit/master/docs/ru/adapterref/iobroker.senec/README.md
title: ioBroker.senec
hash: FHWCaPPMI/Ky/IqWfzHUD4QxtWfoidigYE2yNSDBl9U=
---
![логотип](../../../de/adapterref/iobroker.senec/admin/senec.png)

# IoBroker.senec
## Адаптер SENEC для ioBroker
Адаптер разработан для систем Senec Home V2.1.
В системе Senec.Home нельзя изменить никакие значения. Интеграция заряда безопасности была намеренно опущена.
Senec в настоящее время больше не предоставляет надежный способ влиять на сглаживание пиков через веб-интерфейс. С этой целью необходимо использовать mein-senec.de.
Будут ли другие системы (например, V3) также работать с ним, зависит от того, основаны ли они на lala.cgi и предоставляют ли ту же информацию JSON.
Даже если он интегрирован в Senec.Clound, нет гарантии, что к данным все равно можно будет получить доступ через веб-интерфейс (пожалуйста, предоставьте отчеты об этом).

Системы, которые должны работать, поскольку они используют один и тот же интерфейс, перечислены ниже. Однако точки данных могут быть разными (отсутствовать, добавляться, изменяться).

* Senec Home 4.0 / свинец
* Senec Home 6.0 Pb
* Senec Home 8.0 / свинец
* Senec Home 10.0 Pb
* Senec Home 5.0/7.5/10.0 / Литий
* Senec Home 15.0 / Литий
* Senec Home V2 5.0/7.5/10.0
* Senec Home V2 10.0 / Свинец
* Senec Home V2.1 1ф/литий
* Гибрид Senec.Home V3
* Senec.Home V3 Гибридный дуэт
* Senec Business 30.0 / лид
* Senec Business V2 30,0/отведение
* Senec Бизнес 25.0 / Литий
* Senec Business V2_2ph / Литий
* Senec Business V2 3ф/литий
* Технологии рекламы
* OEM LG
* Хранение солнечного инвертора 10,0 / свинец

## Отказ от ответственности
**Все названия продуктов и компаний или логотипы являются товарными знаками™ или зарегистрированными® товарными знаками соответствующих владельцев. Их использование не подразумевает принадлежность или одобрение этой или любой связанной с ней аффилированной компании! Этот личный проект культивируется в свободное время и не имеет бизнес-целей.

### SENEC.Главная
Это система, сердцем которой является литий-ионный аккумулятор, который накапливает и вырабатывает электроэнергию, вырабатываемую солнечной батареей на крыше. Это работает точно так же, как батарея в смартфоне, ноутбуке или аккумуляторной отвертке. В принципе, он также содержит ту же проверенную технологию. Если вы производите на крыше больше электроэнергии, чем можете использовать в доме, электричество поступает не в сеть, а в вашу систему хранения. Вы можете использовать его, когда темнеет или собираются облака, и вы производите меньше или больше электричества. Тогда вы сможете включить телевизор или приготовить еду вечером на собственной солнечной энергии.

## Требования перед установкой
Обязательным условием эксплуатации системы хранения Senec.Home с ioBroker является успешная установка системы электриком. Система также должна находиться в той же сети, что и ioBroker.

### Монтаж
Экземпляр адаптера устанавливается из административного интерфейса ioBroker.
После завершения установки экземпляра адаптера автоматически открывается окно конфигурации.

## Конфигурация
### Главное окно настроек
![Основные настройки](../../../de/adapterref/iobroker.senec/media/mainSettings.png "Основные настройки")

| поле | Описание |
|:-------------|:-------------|
|Система SENEC |Здесь вводится IP-адрес требуемой системы Senec.Home. Если в сети есть работающий DNS, можно указать и FQDN.|
|Интервал запроса высокого приоритета|Здесь вы вводите временные интервалы (в миллисекундах), через которые значения с высоким приоритетом извлекаются из Senec.Home Systems. (По умолчанию: 10 секунд)|

|Интервал запроса с низким приоритетом|Здесь вы вводите временные интервалы (в миллисекундах), через которые низкоприоритетные значения извлекаются из Senec.Home Systems. (По умолчанию: 60 минут)<br> Опасность! Если система SENEC запрашивается со слишком высокой частотой, это может означать, что передача данных на сервер SENEC больше невозможна! (например, нет текущих значений в приложении или на mein-senec.de)|

|Request-Timeout|Здесь вы вводите количество миллисекунд, по истечении которого система Senec.Home должна ответить на запрос не позднее, чем до того, как запрос будет прерван. (По умолчанию: 5000)|
|Повторить попытки|Здесь вы указываете, как часто должны предприниматься попытки запроса системы Senec в случае возникновения ошибки. Это не относится к запуску адаптера — если система недоступна, адаптер перестанет работать. (По умолчанию: 10)|
|Коэффициент повторных попыток опроса|Это значение можно использовать для влияния на интервал между повторными попытками. Применяется следующее: n-я повторная попытка происходит через интервал *множитель* n секунд после попытки n-1. Пример: при значениях по умолчанию первая попытка выполняется через 20 секунд после первой, а вторая — через 40 секунд после первой. При успешном извлечении данных счетчик повторных попыток сбрасывается.|

После завершения настройки выйдите из диалогового окна настройки с помощью `SPEICHERN UND SCHLIEßEN`.
Затем это приводит к перезапуску адаптера.

## Экземпляров
Установка адаптера создала активный экземпляр адаптера sonnen в разделе `Objekte`.

На сервере ioBroker можно создать несколько экземпляров адаптера Senec. И наоборот, система Senec.Home также может работать с несколькими серверами ioBroker. Если несколько устройств должны управляться сервером ioBroker, для каждой системы необходимо создать один экземпляр.<br/><br/> Активирован ли адаптер и подключен ли он к системе, указывает цвет поля состояния экземпляра. Если указатель мыши указывает на символ, отображается дополнительная подробная информация.

## Объекты адаптера
В области `Objekte` перечислены все устройства и действия, обнаруженные адаптером в концентраторе, в виде древовидной структуры.

Объекты разделены на состояния ниже.
Каждая точка данных указана со связанным с ней типом данных и разрешениями.
В настоящее время разрешения доступны только для чтения (R). Каждая точка данных может быть как минимум прочитана (R).
Для поиска конкретной точки данных мы рекомендуем использовать комбинацию клавиш «STRG + F».
В зависимости от конкретной системы состояния могут не существовать или могут возникать недокументированные состояния.
Если документации по состоянию нет, но кто-то знает, что представляет собой состояние, я прошу соответствующий пулреквест (или открываю тикет с соответствующей информацией).

### Примеры состояний (доступные состояния зависят от системы и версии ПО, обычно список неполный)
#### Канал: информация
* информация.связь

    |Тип данных|Разрешение|
    |:---:|:---:|
    |логический|R|

   * Логическое значение только для чтения, которое верно, если соединение между ioBroker и Senec.Home установлено.*

#### Канал: _calc
Этот канал содержит рассчитанные значения. В настоящее время это ежедневные/недельные/месячные/годовые значения для определенных точек данных.

* xxx.refДень/Неделя/Месяц/Год

    |Тип данных|Разрешение|
    |:---:|:---:|
    |число|В|

   * Изменяемое число, указывающее, для какого дня/недели/месяца/года предназначены данные.*

* xxx.refValue/Неделя/Месяц/Год

    |Тип данных|Разрешение|
    |:---:|:---:|
    |число|В|

   *Изменяемое число, указывающее, какое значение является эталонным для расчета текущего значения.*

* xxx.сегодня/неделя/месяц/год

    |Тип данных|Разрешение|
    |:---:|:---:|
    |число|В|

   *Изменяемое число, представляющее текущее значение дня/недели/месяца/года соответствующей точки данных.*

* xxx.вчера/последняя неделя/последний месяц/последний год

    |Тип данных|Разрешение|
    |:---:|:---:|
    |число|В|

   * Изменяемое число, представляющее значение предыдущего дня/недели/месяца/года соответствующей точки данных.*

#### Канал: BMS
* БЛ[0-3]

    |Тип данных|Разрешение|
    |:---:|:---:|
    |число|R|

   *Число только для чтения, указывающее: ? за каждый батарейный блок.*

* CHARGED_ENERGY[0-3]

    |Тип данных|Разрешение|
    |:---:|:---:|
    |число|R|

   *Число только для чтения, указывающее, сколько энергии было заряжено на один батарейный блок. Единица: ?*

* CHARGE_CURRENT_LIMIT[0-3]

    |Тип данных|Разрешение|
    |:---:|:---:|
    |число|R|

   *Число только для чтения, которое указывает, насколько высока зарядная емкость каждого аккумулятора в амперах.*

* ТЕКУЩИЙ[0-3]

    |Тип данных|Разрешение|
    |:---:|:---:|
    |число|R|

   *Число только для чтения, которое указывает, сколько ампер в настоящее время имеет каждый аккумулятор.*

* ЦИКЛЫ[0-3]

    |Тип данных|Разрешение|
    |:---:|:---:|
    |число|R|

   *Число только для чтения, указывающее, сколько циклов зарядки имеет каждый аккумулятор.*

* DISCHARGED_ENERGY[0-3]

    |Тип данных|Разрешение|
    |:---:|:---:|
    |число|R|

   *Число только для чтения, которое указывает, сколько энергии было выдано из аккумуляторной батареи. Единица: ?*

* DISCHARGE_CURRENT_LIMIT[0-3]

    |Тип данных|Разрешение|
    |:---:|:---:|
    |число|R|

   *Число только для чтения, указывающее, какой разрядной емкостью обладает каждый батарейный блок в настоящее время.*

* ПВ[0-3]

    |Тип данных|Разрешение|
    |:---:|:---:|
    |число|R|

   *Число только для чтения, указывающее, какая версия встроенного ПО в настоящее время установлена в аккумуляторной батарее.*

* HW_EXTENSION[0-3]

    |Тип данных|Разрешение|
    |:---:|:---:|
    |число|R|

   *Число только для чтения, указывающее, какое аппаратное расширение имеет соответствующий аккумулятор.*

* HW_MAINBOARD[0-3]

    |Тип данных|Разрешение|
    |:---:|:---:|
    |число|R|

   *Число только для чтения, указывающее, какая аппаратная версия материнской платы соответствующего аккумуляторного блока.*

* MAX_CELL_VOTAGE[0-3]

    |Тип данных|Разрешение|
    |:---:|:---:|
    |число|R|

   *Число только для чтения, которое указывает максимальное напряжение отдельного аккумуляторного блока.*

* MIN_CELL_VOTAGE[0-3]

    |Тип данных|Разрешение|
    |:---:|:---:|
    |число|R|

   *Число только для чтения, которое указывает минимальное напряжение отдельного аккумуляторного блока.*

* Серийный номер [0-3]

    |Тип данных|Разрешение|
    |:---:|:---:|
    |число|R|

   *Число только для чтения, указывающее серийный номер каждого аккумулятора.*

* СОК[0-3]

    |Тип данных|Разрешение|
    |:---:|:---:|
    |число|R|

   *Число только для чтения, указывающее уровень заряда отдельного аккумуляторного блока.*

* СОХ[0-3]

    |Тип данных|Разрешение|
    |:---:|:---:|
    |число|R|

   *Число только для чтения, указывающее состояние работоспособности каждого аккумулятора.*

* СТАТУС[0-3]

    |Тип данных|Разрешение|
    |:---:|:---:|
    |число|R|

   *Число только для чтения, указывающее состояние каждого аккумулятора.*

* TEMP_MAX[0-3]

    |Тип данных|Разрешение|
    |:---:|:---:|
    |число|R|

   *Число только для чтения, указывающее максимальную температуру отдельного аккумуляторного блока.*

* TEMP_MIN[0-3]

    |Тип данных|Разрешение|
    |:---:|:---:|
    |число|R|

   *Число только для чтения, указывающее минимальную температуру отдельного аккумуляторного блока.*

* НАПРЯЖЕНИЕ[0-3]

    |Тип данных|Разрешение|
    |:---:|:---:|
    |число|R|

   *Число только для чтения, которое указывает, насколько высоки вольты отдельного аккумуляторного блока.*

* BMS_READY_FLAG

    |Тип данных|Разрешение|
    |:---:|:---:|
    |логический|R|

   * Логическое значение только для чтения, которое верно, если BMS готова.*

* МОДУЛИ_КОНФИГУРИРОВАННЫЕ

    |Тип данных|Разрешение|
    |:---:|:---:|
    |число|R|

   *Число только для чтения, указывающее, сколько модулей сконфигурировано в системе.*

* MODULE_COUNT

    |Тип данных|Разрешение|
    |:---:|:---:|
    |число|R|

   *Число только для чтения, указывающее, сколько модулей подключено в системе (включая ненастроенные).*

* НАЧАТЬ ОБНОВЛЕНИЕ

    |Тип данных|Разрешение|
    |:---:|:---:|
    |логический|R|

   *Только для чтения логическое значение, которое истинно, если обновление должно быть запущено.*

* WIZARD_ABORT

    |Тип данных|Разрешение|
    |:---:|:---:|
    |логический|R|

   * Логическое значение только для чтения, что означает, что процесс установки был прерван.*

* МАСТЕР_ПОДТВЕРДИТЬ

    |Тип данных|Разрешение|
    |:---:|:---:|
    |логический|R|

   * Логическое значение только для чтения, означающее, что процесс установки подтвержден.*

* WIZARD_DCCONNECT

    |Тип данных|Разрешение|
    |:---:|:---:|
    |логический|R|

   *Только чтение логического значения, которое верно, процесс установки?.*

* WIZARD_START

    |Тип данных|Разрешение|
    |:---:|:---:|
    |логический|R|

   * Логическое значение только для чтения, что означает, что процесс установки начался.*

* МАСТЕР_СОСТОЯНИЕ

    |Тип данных|Разрешение|
    |:---:|:---:|
    |число|R|

   *Число только для чтения, указывающее статус процесса установки.*

#### Канал: ЭНЕРГИЯ
* GUI_BAT_DATA_CURRENT

    |Тип данных|Разрешение|
    |:---:|:---:|
    |число|R|

   *Число только для чтения, указывающее текущий ток батареи в амперах.*

* GUI_BAT_DATA_FUEL_CHARGE

    |Тип данных|Разрешение|
    |:---:|:---:|
    |число|R|

   *Число только для чтения, указывающее % уровня системы.*

* GUI_BAT_DATA_VOLTAGE

    |Тип данных|Разрешение|
    |:---:|:---:|
    |число|R|

   *Число только для чтения, указывающее текущее напряжение батареи в вольтах*

* GUI_BAT_DATA_POWER

    |Тип данных|Разрешение|
    |:---:|:---:|
    |число|R|

   *Число только для чтения, указывающее, сколько ватт в настоящее время потребляется или потребляется от батареи (отрицательное значение).*

* GUI_BOOSTING_INFO

    |Тип данных|Разрешение|
    |:---:|:---:|
    |логический|R|

   *Только читаемое логическое значение, смысл которого пока не ясен.*

* GUI_CHARGING_INFO

    |Тип данных|Разрешение|
    |:---:|:---:|
    |логический|R|

   *Только для чтения Логическое значение, указывающее, заряжается ли батарея в данный момент.*

* GUI_GRID_POW

    |Тип данных|Разрешение|
    |:---:|:---:|
    |число|R|

   *Число только для чтения, которое указывает, сколько ватт в настоящее время потребляется или подается в сеть (отрицательное значение).*

* GUI_HOUSE_POW

    |Тип данных|Разрешение|
    |:---:|:---:|
    |число|R|

   *Число только для чтения, указывающее, сколько ватт потребляет дом в настоящее время.*

* GUI_INVERTER_POWER

    |Тип данных|Разрешение|
    |:---:|:---:|
    |число|R|

   *Число только для чтения, которое указывает, сколько ватт в настоящее время вырабатывается фотоэлектрической системой.*

* STAT_HOURS_OF_OPERATION

    |Тип данных|Разрешение|
    |:---:|:---:|
    |число|R|

   *Число только для чтения, указывающее часы работы системы.*

* STAT_MAINT_REQUIRED

    |Тип данных|Разрешение|
    |:---:|:---:|
    |логический|R|

   * Логическое значение только для чтения, указывающее, нуждается ли система в обслуживании.*

* STAT_STATE

    |Тип данных|Разрешение|
    |:---:|:---:|
    |число|R|

   *Число только для чтения, представляющее состояние системы.*

* STAT_STATE_текст

    |Тип данных|Разрешение|
    |:---:|:---:|
    |строка|Р|

   *Строка только для чтения, указывающая состояние системы в виде простого текста. К сожалению, у нас есть только оригинальные тексты Senec на немецком языке.*

#### Канал: СТАТИСТИКА
* STAT_DAY_BAT_CHARGE

    |Тип данных|Разрешение|
    |:---:|:---:|
    |число|R|

   *Число только для чтения, указывающее, сколько киловатт-часов было сохранено в аккумуляторе сегодня.*

* STAT_DAY_BAT_DISCHARGE

    |Тип данных|Разрешение|
    |:---:|:---:|
    |число|R|

   *Число только для чтения, указывающее, сколько кВтч было снято с батареи сегодня.*

* STAT_DAY_E_GRID_EXPORT

    |Тип данных|Разрешение|
    |:---:|:---:|
    |число|R|

   *Число только для чтения, указывающее, сколько кВтч было передано в сеть сегодня.*

* STAT_DAY_E_GRID_IMPORT

    |Тип данных|Разрешение|
    |:---:|:---:|
    |число|R|

   *Число только для чтения, указывающее, сколько кВтч было получено сегодня из сети.*

* STAT_DAY_E_HOUSE

    |Тип данных|Разрешение|
    |:---:|:---:|
    |число|R|

   *Число только для чтения, которое указывает сегодняшнее домашнее потребление в кВтч.*

* STAT_DAY_E_PV

    |Тип данных|Разрешение|
    |:---:|:---:|
    |число|R|

   *Число только для чтения, которое указывает, сколько кВтч было произведено фотоэлектрической системой сегодня.*

#### Канал: SYS_UPDATE
* NPU_IMAGE_VERSION

    |Тип данных|Разрешение|
    |:---:|:---:|
    |число|R|

   *Номер только для чтения со значением Revision NPU-IMAGE (*

* NPU_VER

    |Тип данных|Разрешение|
    |:---:|:---:|
    |число|R|

   *Номер только для чтения, который соответствует значению версии NPU-REGS*

* ДОСТУПНО ОБНОВЛЕНИЕ

    |Тип данных|Разрешение|
    |:---:|:---:|
    |логический|R|

   *Только читаемое логическое значение, указывающее, доступно ли обновление (однако они предоставляются Senec и также импортируются автоматически).*

#### Канал: ВОЛШЕБНИК
* ПРИЛОЖЕНИЕ_ВЕРСИЯ

    |Тип данных|Разрешение|
    |:---:|:---:|
    |строка|Р|

   *Текст только для чтения со значением Revision MCU.*

* КОНФИГ_ЗАГРУЗКА

    |Тип данных|Разрешение|
    |:---:|:---:|
    |логический|R|

   * Логическое значение только для чтения, указывающее, была ли загружена конфигурация (это значение не должно постоянно быть ложным).*

* ИНТЕРФЕЙС_ВЕРСИЯ

    |Тип данных|Разрешение|
    |:---:|:---:|
    |строка|Р|

   *Текст только для чтения со значением Revision GUI.*

* SETUP_NUMBER_WALLBOXES

    |Тип данных|Разрешение|
    |:---:|:---:|
    |число|R|

   *Число только для чтения, указывающее, сколько настенных коробок настроено в системе.*

* SETUP_WALLBOX_SERIAL[0..3]

    |Тип данных|Разрешение|
    |:---:|:---:|
    |строка|Р|

   *Только читаемый текст с указанием серийных номеров любых настенных ящиков 0–3, которые могут присутствовать.*

## Changelog
### 1.3.9 (Nobl)
* Added (some) Wallbox Datapoints to high-prio polling
* Added more state definitions

### 1.3.8 (NoBl)
* Removed (unnecessary) admin tab

### 1.3.7 (NoBl, noffycws, git-ZeR0)
* Updates to state translations (new values when SENEC turned off appliances)
* Added state definitions
* Added high priority datapoints: temperatures, voltages, ... to better monitor safety relevant data

### 1.3.6 (NoBl)
* Fixed log.warning error

### 1.3.5 (NoBl)
* Added more state attributes (if you have updated descriptions or anything, please open an issue!)
* Workaround in case SENEC reports bogus request data

### 1.3.4 (NoBl)
* Moved from request to axios
* Added more state attributes (if you have updated descriptions or anything, please open an issue!)

### 1.3.3 (NoBl)
* Updated to current template.

### 1.3.2 (NoBl)
* Autarky without decimal places (again). They are causing more updates than we really need.
* Autarky values won't reset to 0 at change of timeframe (day, week, ...) anymore. They are calculated based on reference values anyways.
* Ensuring that only values meant to be changeable by user are defined so (attribute changes upon the next update of value)

### 1.3.1 (NoBl) 20210513
* Added calculation of autarky for day/week/month/year

### 1.3.0 (NoBl) 20210509
* Rewrote translations handling
* Added translations for wallbox status.
* Translated status get an extra datapoint with _Text as postfix. Former translations that didn't add an extra dp will now revert to their numeric representation and add the _Text DP.
* Translations are now handled via lib/state_trans.js for all 3 languages available in the senec system (german, english, italian).
* Language used is decided by the language of the SENEC appliance.

### [Former Updates](CHANGELOG_old.md)

## License
MIT License

Copyright (c) 2022 Norbert Bluemle <github@bluemle.org>

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.