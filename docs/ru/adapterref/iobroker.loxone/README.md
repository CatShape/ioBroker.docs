---
translatedFrom: en
translatedWarning: Если вы хотите отредактировать этот документ, удалите поле «translationFrom», в противном случае этот документ будет снова автоматически переведен
editLink: https://github.com/ioBroker/ioBroker.docs/edit/master/docs/ru/adapterref/iobroker.loxone/README.md
title: ioBroker.loxone
hash: RjtrwZn4UfhamlqWp+EgzW8URAunM7vobdugxeju1Uc=
---
![Логотип](../../../en/adapterref/iobroker.loxone/admin/loxone.png)

![версия NPM](http://img.shields.io/npm/v/iobroker.loxone.svg)
![Загрузки](https://img.shields.io/npm/dm/iobroker.loxone.svg)
![Количество установок (последние)](http://iobroker.live/badges/loxone-installed.svg)
![Количество установок (стабильно)](http://iobroker.live/badges/loxone-stable.svg)
![Статус зависимости](https://img.shields.io/david/UncleSamSwiss/iobroker.loxone.svg)
![НПМ](https://nodei.co/npm/iobroker.loxone.png?downloads=true)

# IoBroker.loxone
[![Статус перевода](https://weblate.iobroker.net/widgets/adapters/-/loxone/svg-badge.svg)](https://weblate.iobroker.net/engage/adapters/?utm_source=widget)

**Тесты:** ![Тестируйте и выпускайте](https://github.com/UncleSamSwiss/ioBroker.loxone/workflows/Test%20and%20Release/badge.svg)

## Адаптер loxone для ioBroker
**_Для этого адаптера требуется как минимум nodejs 10.x!_**

Извлекает всю информацию, доступную в Loxone Miniserver (и Loxone Miniserver Go), и предоставляет изменения в режиме реального времени.

**Этот адаптер использует библиотеки Sentry для автоматического сообщения об исключениях и ошибках кода разработчикам.** Дополнительные сведения и информацию о том, как отключить отчеты об ошибках, см. в [Документация по плагину Sentry](https://github.com/ioBroker/plugin-sentry#plugin-sentry)! Отчеты Sentry используются, начиная с js-controller 3.0.

## Установить
Установите этот адаптер через ioBroker Admin:

1. Откройте диалоговое окно конфигурации экземпляра
2. Введите IP-адрес или имя хоста и HTTP-порт (по умолчанию 80) вашего мини-сервера Loxone.
3. Создайте нового пользователя в Loxone Miniserver (используя приложение Loxone Config), которому вы дадите права только на чтение и запись всех необходимых переменных.
4. Введите имя этого пользователя и его пароль в диалоговом окне конфигурации.
5. Сохраните конфигурацию
6. Запустите адаптер

## Конфигурация
### Имя хоста / IP-адрес минисервера
Это IP-адрес или имя хоста вашего Loxone Miniserver или Miniserver Go.

### Порт минисервера
Это порт HTTP вашего мини-сервера Loxone.

По умолчанию минисервер настроен на прослушивание порта 80, но вы могли изменить его.

### Имя пользователя минисервера
Укажите действительное имя пользователя для доступа к мини-серверу Loxone.

Настоятельно рекомендуется использовать пользователя, отличного от «admin», из соображений безопасности.

Пользователю нужен только доступ для чтения к тем переменным, которые вы хотите использовать из ioBroker.

### Пароль минисервера
Введите пароль для данного имени пользователя (см. выше).

### Синхронизировать имена
Это будет обновлять имена в ioBroker всякий раз, когда они изменяются в конфигурации Loxone.
Если это отключено, имена будут синхронизированы только при первом обнаружении элемента управления.

### Синхронизировать комнаты
Это заполнит перечисление enum.rooms всеми комнатами, предоставляемыми мини-сервером Loxone, и свяжет все элементы управления.

### Синхронизация функций
Это заполнит перечисление enum.functions всеми категориями, предоставляемыми мини-сервером Loxone, и свяжет все элементы управления.

### Сервер погоды
Выберите, какие данные о погоде вы хотите синхронизировать:

- «Не синхронизировать данные о погоде» не будет синхронизировать ничего, связанное с сервером погоды.
- «Синхронизировать только текущую погоду» синхронизирует данные в разделе «Фактические».
- «Синхронизировать 24-часовой прогноз погоды» синхронизирует текущую погоду и 24-часовой прогноз погоды.
- «Синхронизировать весь прогноз погоды» синхронизирует текущую погоду и весь прогноз погоды (96 часов)

## Состояния
Адаптер автоматически подключается к настроенному мини-серверу Loxone и создает состояния для каждого найденного состояния элемента управления.

Идентификаторы состояний имеют следующий формат: `loxone.<instance>.<control>.<state>`

- `<instance>` — это индекс экземпляра адаптера ioBroker (обычно "0").
- `<control>` - это UUID элемента управления
- `<state>` — это состояние внутри элемента управления (см. [Поддерживаемые типы элементов управления](#supported-control-types) для получения дополнительной информации).

Имя, указанное при настройке элемента управления в Loxone Config, будет использоваться только в качестве его отображаемого имени в ioBroker.
Это связано с тем, что пользователь может выбрать одно и то же имя для нескольких элементов управления.

Для получения дополнительной информации об элементах управления и их состояниях также см. Loxone API (особенно файл структуры): https://www.loxone.com/enen/kb/api/

## Управление видимостью
По умолчанию Loxone Miniserver скрывает многие элементы управления (и, следовательно, их состояния) из веб-интерфейса.

Это означает, что они также скрыты от этого адаптера ioBroker.

### Использование в пользовательском интерфейсе
Чтобы гарантировать, что все ваши состояния должным образом сообщаются ioBroker, убедитесь, что у них установлен флажок «Использовать» в разделе «Пользовательский интерфейс»:

![Использовать в настройках пользовательского интерфейса](../../../en/adapterref/iobroker.loxone/doc/loxone-config-use-in-visualization.png)

### Отображение диагностических входов
Чтобы увидеть диагностические входные данные (например, состояние батареи устройств Air), убедитесь, что на устройстве установлен флажок «Отображать диагностические входные данные»:

![Отображение настроек диагностических входов](../../../en/adapterref/iobroker.loxone/doc/loxone-config-display-diagnostics.png)

## Глобальные состояния
В настоящее время этот адаптер поддерживает следующие глобальные состояния:

- `operatingMode`: номер текущего рабочего режима мини-сервера Loxone.
- `operationMode-text`: текущий режим работы мини-сервера Loxone в виде текста.
- `sunrise`: количество минут после полуночи, когда сегодня восходит солнце.
- «закат»: количество минут после полуночи, когда сегодня заходит солнце.
- `уведомления`: количество уведомлений
- `модификации`: количество модификаций
- все другие глобальные состояния просто сообщаются в виде текстов

## Поддерживаемые типы элементов управления
В настоящее время этот адаптер поддерживает следующие типы элементов управления.

За названием состояния вы можете увидеть тип состояния:

- `(rw)`: доступен для чтения и записи: это состояние можно изменить из ioBroker
- `(ro)`: только для чтения: это состояние нельзя изменить из ioBroker
- `(wo)`: только для записи: значение этого состояния не сообщается этим адаптером, но его можно изменить, вызывая некоторые действия на мини-сервере Loxone.

### AalSmartAlarm
Обеспечивается управлением AAL Smart Alarm.

- `alarmLevel` (ro) идентификатор текущего уровня тревоги
    - 0 = нет тревоги
    - 1 = немедленная тревога
    - 2 = отложенная тревога
- `alarmCause` (ro) Строка, представляющая последнюю причину тревоги.
- `isLocked` (ro) Сброс активен, входы будут игнорироваться и, следовательно, никакие тревоги не будут выполняться.
- `isLeaveActive` (ro) Вход выхода установлен, тревоги не выполняются.
- `disableEndTime` (ro) Время окончания отключения элемента управления
- `подтвердить` (wo) Подтвердить ожидающую тревогу
- `disable` (wo) Отключить управление на определенный период времени, тревоги не будут срабатывать. Установка его на 0 снова включит умный будильник.
- `startDrill` (wo) Выполнить тестовую тревогу

### Аварийная ситуация
Обеспечивается управлением AAL Smart Emergency Button.

- `status` (ro) идентификатор текущего состояния
    - 0 = работает, нормальная работа, ожидание нажатия аварийной кнопки
    - 1 = сработала тревога
    - 2 = ввод сброса в конфигурации подтвержден, управление выключено
    - 3 = приложение временно отключило управление
- `disableEndTime` (ro) Время окончания отключения элемента управления
- `resetActive` (ro) текстовое состояние с активным вводом сброса (если управление находится в состоянии сброса)
- `trigger` (wo) вызвать тревогу из приложения
- `quit` (wo) выйти из активного будильника
- `disable` (wo) отключить управление на заданное время в секундах. Установите на 0, чтобы снова начать управление, если оно отключено

### Тревога
Обеспечивается контролем охранной сигнализации.

- `armed` (rw) логическое состояние (true/false) тревоги; запись «true» в это значение немедленно включит будильник (без предопределенной задержки)
- `nextLevel` (ro) идентификатор следующего уровня тревоги
    - 1 = Без звука
    - 2 = акустический
    - 3 = оптический
    - 4 = внутренний
    - 5 = внешний
    - 6 = удаленный
- `nextLevelDelay` (ro) задержка следующего уровня в секундах
- `nextLevelDelayTotal` (ro) общая задержка следующего уровня в секундах
- `level` (ro) идентификатор текущего уровня тревоги
    - 1 = Без звука
    - 2 = акустический
    - 3 = оптический
    - 4 = внутренний
    - 5 = внешний
    - 6 = удаленный
- `startTime` (ro) временная метка начала тревоги
- `armedDelay` (ro) задержка постановки охранной сигнализации на охрану
- `armedDelayTotal` (ro) общая задержка постановки на охрану охранной сигнализации
- `sensors` (ro) список датчиков
- `disabledMove` (rw) движение отключено (true) или нет (false)
- `delayedOn` (wo) запись любого значения в это состояние активирует тревогу с настроенной задержкой
- `quit` (wo) запись любого значения в это состояние подтверждает тревогу

### Центральная сигнализация
Обеспечивается централизованным управлением охранной сигнализацией.

- `armed` (rw) логическое состояние (true/false) тревоги; запись «true» в это значение немедленно включит будильник (без предопределенной задержки)
- `delayedOn` (wo) запись любого значения в это состояние активирует тревогу с настроенной задержкой
- `quit` (wo) запись любого значения в это состояние подтверждает тревогу

### Будильник
Предусмотрено управление будильником.

- `isEnabled` (rw) логическое состояние (true/false) будильника
- `isAlarmActive` (ro) логическое значение (true/false) указывает, звонит ли сейчас будильник
- `confirmationNeeded` (ro) логическое значение (true/false) нужно ли пользователю подтверждать тревогу
- `ringingTime` (ro) обратный отсчет в секундах, как долго будильник будет звонить, пока он снова не вздремнет
- `ringDuration` (rw) продолжительность звонка будильника в секундах
- `prepareDuration` (rw) время подготовки в секундах
- `snoozeTime` (ro) секунд до окончания повтора
- `snoozeDuration` (rw) продолжительность повтора в секундах
- `snooze` (wo) запись любого значения в это состояние откладывает текущий будильник
- `dismiss` (wo) запись любого значения в это состояние отменяет текущую тревогу

### Аудиозона
Предоставлено Music Server Zone.

- `serverState` (ro) состояние музыкального сервера:
    - -3 = неизвестная/недопустимая зона
    - -2 = недоступен
    - -1 = неизвестно
    - 0 = офлайн
    - 1 = инициализация (загрузка, попытка доступа)
    - 2 = онлайн
- `playState` (rw) состояние воспроизведения:
    - -1 = неизвестно (это значение не может быть установлено)
    - 0 = остановлен (при установке этого значения воспроизведение будет приостановлено)
    - 1 = приостановлено (при установке этого значения воспроизведение будет приостановлено)
    - 2 = воспроизведение (установка этого значения запустит/возобновит воспроизведение)
- `clientState` (ro) состояние клиента:
    - 0 = офлайн
    - 1 = инициализация (загрузка, попытка доступа)
    - 2 = онлайн
- `power` (rw) независимо от того, активна ли мощность клиента
- `volume` (rw) текущий объем
- Зонам `maxVolume` (ro) может быть назначена максимальная громкость
- `shuffle` (rw) независимо от того, включено ли перемешивание плейлиста
- `sourceList` (ro) список, содержащий все избранные зоны
- `repeat` (rw) режим повтора:
    - -1 = неизвестно
    - 0 = выкл.
    - 1 = повторить все
    - 2 = -не используется-
    - 3 = повторить текущий элемент
- `songName` (ro) название песни
- `duration` (ro) длина всего трека, -1, если неизвестно (поток)
- `progress` (rw) текущая позиция в треке
- `album` (ro) название альбома
- `artist` (ro) имя исполнителя
- `station` (ro) название станции
- `genre` (ro) название жанра
- `cover` (ro) URL-адрес обложки песни/альбома
- `source` (rw) идентификатор текущего выбранного источника (см. `sourceList` выше)
- `prev` (wo) запись любого значения в это состояние перемещает на предыдущую дорожку
- `next` (wo) запись любого значения в это состояние переходит на следующую дорожку

### Центральное аудио
Предоставляется центральным музыкальным сервером.

- `control` (wo) устанавливает состояние воспроизведения всех игроков (`true` = воспроизведение, `false` = пауза)

### Палитра цветов
Это устройство появляется только внутри LightController.

- `red` (rw) красное значение палитры цветов
- `green` (rw) значение зеленого цвета в палитре цветов
- `blue` (rw) значение синего цвета в палитре цветов

Установка одного или нескольких из вышеуказанных состояний из ioBroker приведет к отправке команды на минисервер только через 100 мс.
Это сделано для предотвращения многократного изменения цвета для одного пользовательского ввода.

### Палитра цветов V2
Это устройство появляется только внутри Light Controller V2 в программном обеспечении Loxone версии 9 и выше.

- `red` (rw) красное значение палитры цветов
- `green` (rw) значение зеленого цвета в палитре цветов
- `blue` (rw) значение синего цвета в палитре цветов

Установка одного или нескольких из вышеуказанных состояний из ioBroker приведет к отправке команды на минисервер только через 100 мс.
Это сделано для предотвращения многократного изменения цвета для одного пользовательского ввода.

### Дневной таймер / IRCДневной таймер
Предоставляется по таймеру/расписанию.

- `mode` (ro) текущий режим работы дневного таймера
- `mode-text` (ro) название текущего режима работы дневного таймера
- `отменить` (ro) оставшееся время таймера
- `value` (ro) текущее значение, `true` или `false` для цифрового и значение для аналогового
- `value-formatted` (ro) текущее отформатированное значение в виде текста
- `needsActivation` (ro) доступно только в том случае, если элемент управления необходимо активировать
- `resetActive` (ro) остается активным, пока активен вход сброса дневного таймера
- `pulse` (wo) активирует новое значение, если запись требует активации

### Диммер
Обеспечивается диммерами.

- `position` (rw) текущая позиция диммера
- `min` (ro) текущее минимальное значение
- `max` (ro) текущее максимальное значение
- `step` (ro) текущее значение шага
- `on` (wo) запись любого значения в это состояние устанавливает диммер в последнее известное положение
- `off` (wo) запись любого значения в это состояние отключает диммер, устанавливает позицию в 0, но запоминает последнюю позицию

### EIBDimmer
Обеспечивается диммерами EIB/KNX.

- `position` (rw) текущая позиция диммера
- `on` (wo) запись любого значения в это состояние устанавливает диммер в последнее известное положение
- `off` (wo) запись любого значения в это состояние отключает диммер, устанавливает позицию в 0, но запоминает последнюю позицию

### Фрониус
Предоставляется энергомонитором.

- `prodCurr` (ro) текущая производственная мощность
- `prodCurrDay` (ro) производство энергии за текущий день
- `prodCurrMonth` (ro) производство энергии за весь текущий месяц
- `prodCurrYear` (ro) производство энергии за текущий год
- `prodTotal` (ro) производство энергии с момента создания
- `consCurr` (ro) потребляемая мощность тока
- `consCurrDay` (ro) энергия, потребляемая в течение текущего дня
- `consTotal` (ro) потребляемая энергия с момента установки
- `deliveryDay` (ro) неизвестно
- `earningsDay` (ro) сколько денег было заработано по сравнению с текущим, потребляя произведенную электроэнергию самостоятельно, а не потребляя ее из сети, или экспортируя неиспользованную произведенную электроэнергию в сеть.
- `earningsMonth` (ro) сколько денег было заработано за текущий месяц
- `earningsYear` (ro) сколько денег было заработано за текущий год
- `earningsTotal` (ro) сколько денег было заработано с момента настройки
- `gridCurr` (ro) текущее потребление/мощность сети. Если отрицательный, мощность подается в сеть.
- `batteryCurr` (ro) текущая мощность зарядки/использования батареи. Если отрицательный, батарея заряжается.
- `stateOfCharge` (ro) представляет состояние зарядки аккумулятора. 100 = полностью заряжен.
- `co2Factor` (ro) Сколько CO2 требуется для производства одного кВтч, используется для расчета экономии CO2
- `онлайн` (ro) true: онлайн, false: оффлайн

### Ворота
Обеспечивается управлением воротами.

- `position` (ro) позиция от 1 = вверх до 0 = вниз
- `active` (rw) текущее направление движения ворот
    - -1 = закрыть
    - 0 = не движется
    - 1 = открыт
- `preventOpen` (ro) блокирует ли открытие двери
- `preventClose` (ro) предотвращает ли закрытие двери

### Центральные ворота
Обеспечивается центральным управлением воротами.

- `open` (wo) открывает все ворота
- `close` (wo) закрывает все ворота
- `stop` (wo) останавливает все моторы ворот

### Счетчик часов
Предоставлено

- `total` (ro) общее количество секунд, в течение которых счетчик был активен до сих пор.
- `осталось` (ro) сколько секунд осталось до следующего техобслуживания
- `lastActivation` (ro) метка времени последней активации счетчика
- `просроченный` (ro) `false`, если не просроченный, в противном случае требуется техническое обслуживание
- `maintenanceInterval` (ro) секунд до следующего техобслуживания
- `active` (ro) независимо от того, активен счетчик в данный момент или нет
- `overdueSince` (ro) секунд с момента превышения интервала обслуживания
- `reset` (wo) вызовет сброс следующих значений
    - осталось до обслуживанияInterval
    - просрочено до 0
    - просрочено с 0
- `resetAll` (wo) аналогично `reset`, но также устанавливает
    - всего до 0
    - последняя активация на 0

### InfoOnlyAnalog
Предоставляется виртуальными состояниями, а также переключателем Loxone Touch.

- `value` (ro) значение состояния (число) элемента управления
- `value-formatted` (ro), если настроено, отформатированное значение состояния (с использованием формата "Unit" из Loxone Config)

### InfoOnlyDigital
Предоставляется виртуальными состояниями, а также переключателем Loxone Touch.

- `active` (ro) логическое состояние (true/false) элемента управления
- `active-text` (ro), если настроено, текстовый эквивалент состояния
- `active-image` (ro), если настроено, изображение, эквивалентное состоянию
- `active-color` (ro), если настроено, цветовой эквивалент состояния

![Настройки InfoOnlyDigital](../../../en/adapterref/iobroker.loxone/doc/loxone-config-info-only-digital.png)

### Инфоонлитекст
Предоставляется виртуальными текстовыми состояниями.

- `text` (ro) значение состояния элемента управления
- `text-formatted` (ro), если настроено, форматированное значение состояния

### Внутренняя связь
Обеспечивается дверными контроллерами.

- `bell` (ro) звонит ли звонок
- Массив `lastBellEvents` (ro), содержащий временные метки для каждого действия звонка, на которое не ответили
- `версия` (ro) только для Loxone Intercoms - текст, содержащий текущую установленную прошивку

    версии

- `answer` (wo) запись любого значения в это состояние деактивирует звонок

Этот тип канала может содержать другие устройства. Дополнительную информацию см. в соответствующей главе.

### Интеллектуальный комнатный контроллер V2
Предоставляется интеллектуальным комнатным контроллером V2, начиная с версии Miniserver 10.0.

TODO: документация в настоящее время отсутствует

### Жалюзи
Предусмотрены различные виды жалюзи (автоматические и ручные).

- `up` (rw) поднимаются ли жалюзи
- `вниз` (rw), если Жалюзи опускаются
- `position` (ro) положение жалюзи, число от 0 до 1
    - Верхнее положение жалюзи = 0
    - Нижнее положение жалюзи = 1
- `shadePosition` (ro) положение затемнения жалюзи (жалюзи), число от 0 до 1
    - Жалюзи не затенены = 0
    - Жалюзи заштрихованы = 1
- `safetyActive` (ro) используется только теми, у кого есть автопилот, это означает безопасное отключение
- `autoAllowed` (ro) используется только теми, у кого есть автопилот
- `autoActive` (rw) используется только теми, у кого есть автопилот
- `заблокировано` (ro) только для тех, у кого есть автопилот, это представляет выходной QI в Loxone Config
- `infoText` (ro) сообщает, например. о том, что вызвало заблокированное состояние или что привело к тому, что безопасность стала активной.
- `fullUp` (wo) запись любого значения в это состояние вызывает полное движение вверх
- `fullDown` (wo) запись любого значения в это состояние запускает полное движение вниз
- `shade` (wo) запись любого значения в это состояние затеняет жалюзи до идеального положения

### Центральные жалюзи
Предусмотрено центральное управление жалюзи.

- `autoActive` (rw) используется только теми, у кого есть автопилот
- `fullUp` (wo) запись любого значения в это состояние вызывает полное движение вверх
- `fullDown` (wo) запись любого значения в это состояние запускает полное движение вниз
- `shade` (wo) запись любого значения в это состояние затеняет все жалюзи в идеальную позицию

### Контроллер света
Предоставляется (гостиничными) контроллерами освещения.
Сцены можно изменять только в приложениях Loxone, но их можно выбирать в ioBroker.

- `activeScene` (rw) номер текущей активной сцены
    - 0: все выключено
    - 1..8: определяемая пользователем сцена (определение/изучение сцен должно выполняться с помощью инструментов Loxone)
    - 9: все включено
- `sceneList` (ro) список всех сцен
- `плюс` (wo) переходит к следующей сцене
- `минус` (wo) меняется на предыдущую сцену

Этот тип канала может содержать другие устройства. Дополнительную информацию см. в соответствующей главе.

### Контроллер света V2
Предоставляется (гостиничными) контроллерами освещения в программном обеспечении Loxone версии 9 и выше.
Настроения можно изменять только в приложениях Loxone, но их можно выбирать и комбинировать в ioBroker.

- `moodList` (ro) список всех сконфигурированных названий настроений
- `activeMoods` (rw) в настоящее время активный список названий настроений
- `favoriteMoods` (ro) список названий любимых настроений
- `additionalMoods` (ro) список имен нелюбимых настроений
- `плюс` (wo) меняется на следующее настроение
- `минус` (wo) меняется на предыдущее настроение

Этот тип канала может содержать другие устройства. Дополнительную информацию см. в соответствующей главе.

### Центральный контроллер освещения
Обеспечивается центральным контроллером освещения.

- `control` (wo) включает или выключает все огни

### Почтовый ящик
Предоставлено Packetsafe Air/Tree.

- `notificationsDisabledInput` (ro) Состояние отключенного ввода уведомлений
- `packetReceived` (ro) Состояние, если пакет был получен
- `mailReceived` (ro) Указывает, получена ли почта
- Отметка времени `disableEndTime` (ro) до тех пор, пока уведомления не будут отключены.
- `confirmPacket` (wo) Подтвердить получение пакета
- `confirmMail` (wo) Подтвердить получение почты
- `disableNotifications` (wo) Отключить уведомления на x секунд; 0 секунд для отмены таймера

### Счетчик
Предоставляется счетчиками коммунальных услуг.

- `actual` (ro) фактическое значение (число)
- `actual-formatted` (ro), если настроено, отформатированное фактическое значение состояния (с использованием формата «Единица» из Loxone Config)
- `total` (ro) общая стоимость (число)
- `total-formatted` (ro), если настроено, отформатированное общее значение состояния (с использованием формата «Единица» из Loxone Config)
- `reset` (wo) запись любого значения в это состояние сбрасывает общее значение

### Детектор присутствия
Обеспечивается датчиком присутствия.

- `активное` (ro) состояние присутствия
- `locked` (ro) заблокированное состояние
- `events` (ro) количество событий
- `infoText` (ro) причина блокировки датчика присутствия

### Нажать кнопку
Обеспечивается виртуальными кнопочными входами.

- `active` (rw) текущее состояние кнопки
- `pulse` (wo) запись любого значения в это состояние будет имитировать нажатие кнопки только на очень короткое время

### Радио
Предоставляется переключателями (8x и 16x).

- `activeOutput` (rw) ID текущего активного выхода или 0, если ни один не активен ("All Off")

### Удаленный
Предоставляется медиаконтроллером.
Только базовые функции только для чтения.

- `active` (ro) true, если Минисервер отправляет команды на переключение режимов или включение питания
- `mode` (ro) клавиша для текущего режима или 0, если режим не выбран ("All Off")"
- `timeout` (ro) время ожидания в миллисекундах

### Слайдер
Предоставляется аналоговыми виртуальными входами.

- `value` (rw) текущее значение ползунка
- `value-formatted` (ro), если настроено, отформатированное значение состояния (с использованием формата "Unit" из Loxone Config)
- `ошибка` (ro) указывает на недопустимое значение ползунка

### Дымовая сигнализация
Предоставляется счетчиками коммунальных услуг.

- `nextLevel` (ro) идентификатор следующего уровня тревоги
    - 1 = Без звука
    - 2 = акустический
    - 3 = оптический
    - 4 = внутренний
    - 5 = внешний
    - 6 = удаленный
- `nextLevelDelay` (ro) задержка следующего уровня в секундах
- `nextLevelDelayTotal` (ro) общая задержка следующего уровня в секундах
- `level` (ro) идентификатор текущего уровня тревоги
    - 1 = Без звука
    - 2 = акустический
    - 3 = оптический
    - 4 = внутренний
    - 5 = внешний
    - 6 = удаленный
- `sensors` (ro) список датчиков
- `acousticAlarm` (ro) состояние звуковой сигнализации false для неактивного и true для активного
- `testAlarm` (ro), активен ли testalarm
- `alarmCause` (ro) причина тревоги:
    - 1 = только детектор дыма
    - 2 = только вода
    - 3 = дым и вода
    - 4 = только температура
    - 5 = огонь и температура
    - 6 = температура и вода
    - 7 = огонь, температура и вода
- `startTime` (ro) временная метка начала будильника
- `timeServiceMode` (rw) задержка до отключения сервисного режима
- `mute` (wo) запись любого значения в это состояние отключает звук сирены
- `quit` (wo) запись любого значения в это состояние подтверждает дымовую тревогу

### Выключатель
Обеспечивается виртуальными входными переключателями.

- `active` (rw) текущее состояние переключателя

### Состояние текста
Предоставлено «государством».

- `textAndIcon` (ro) текущее значение состояния

### TimedSwitch
Предусмотрены лестничные клетки и многофункциональные выключатели.

- `deactivationDelayTotal` (ro) секунд, как долго выход будет активен, если используется таймер
- `deactivationDelay` (ro) обратный отсчет до деактивации выхода
    - 0 = выход выключен
    - -1 = выход постоянно включен
    - иначе будет обратный отсчет от deactivationDelayTotal
- `on` (wo) запись любого значения в это состояние включает переключатель постоянно без задержки деактивации
- `off` (wo) запись любого значения в это состояние отключает переключатель
- `pulse` (wo) подает импульс на переключатель:
    - задержка деактивации = 0
        - Запустит обратный отсчет от deactivationDelayTotal до 0
    - если это лестничный выключатель:
        - задержка деактивации = -1
            - Никакого эффекта, останется постоянно включенным.
        - задержка деактивации > 0
            - Перезапускает обратный отсчет
    - если это многофункциональный переключатель
        - выключает его (от обратного отсчета или постоянно включенного состояния)

### Трекер
Предусмотрены лестничные клетки и многофункциональные выключатели.

- `entries` (ro) список записей, возвращаемых с минисервера

### ВверхВнизАналог
Предоставляется виртуальным вводом (кнопки вверх-вниз).

- `value` (rw) текущее значение ввода
- `value-formatted` (ro), если настроено, отформатированное значение состояния (с использованием формата "Unit" из Loxone Config)
- `ошибка` (ro) указывает на недопустимое значение ползунка

### Выбор значения
Выбор значения.

- `value` (rw) текущее значение
- `min` (ro) текущее минимальное значение
- `max` (ro) текущее максимальное значение
- `step` (ro) текущее значение шага

### ОкноМонитор
Предоставляется счетчиками коммунальных услуг.

- `numOpen` (ro) количество открытых окон и дверей
- `numClosed` (ro) количество закрытых окон и дверей
- `numTilted` (ro) количество наклоненных окон и дверей
- `numOffline` (ro) количество окон и дверей, которые недоступны
- `numLocked` (ro) количество запертых окон и дверей
- `numUnlocked` (ro) количество незапертых окон и дверей

Сумма значений всех этих состояний равна количеству контролируемых окон и дверей.? Окна/двери с двумя состояниями всегда будут засчитываться в «худшее» состояние.

Для каждого контролируемого окна/двери будет устройство с индексом в качестве его идентификатора и заданного имени. Они имеют следующие состояния:

- `closed` (ro) окно/дверь закрыты
- `tilted` (ro) окно/дверь наклонены
- `open` (ro) окно/дверь открыты
- `locked` (ro) окно/дверь заперты
- `unlocked` (ro) окно/дверь разблокированы

## Сервер погоды
Информация о погодном сервере предоставляется как устройство с несколькими каналами.
Устройство называется `WeatherServer`.
Это содержит:

- канал «Актуальные» с текущими значениями погоды
- один канал для каждого прогнозируемого часа под названием «HourXX», где «XX» — это количество часов до текущего момента.

Каждый канал содержит следующие состояния:

- `barometricPressure`: числовое значение барометрического давления
- `barometricPressure-formatted`: отформатированное значение атмосферного давления с указанием единицы измерения.
- `dewPoint`: числовое значение точки росы
- `dewPoint-formatted`: отформатированное значение точки росы с единицей измерения
- `perceivedTemperature`: числовое значение воспринимаемой температуры
- `perceivedTemperature-formatted`: отформатированное значение воспринимаемой температуры с указанием единицы измерения.
- «Осадки»: числовое значение осадков.
- `отформатировано по осадкам`: отформатированное значение осадков с единицей измерения.
- `relativeHumidity`: числовое значение относительной влажности
- `relativeHumidity-formatted`: отформатированное значение относительной влажности с указанием единицы измерения.
- `solarRadiation`: значение солнечного излучения
- `температура`: числовое значение температуры
- `Temperature-Formatted`: отформатированное значение температуры с указанием единицы измерения.
- `timestamp`: метка времени данных как `value.time` (время JavaScript)
- `weatherType`: числовое значение перечисления типа погоды
- `weatherType-text`: текстовое представление типа погоды.
- `windDirection`: значение направления ветра
- `windSpeed`: значение скорости ветра
- `windSpeed-formatted`: отформатированное значение скорости ветра с единицей измерения

## Неподдерживаемые типы элементов управления
Когда Loxone добавляет новые типы элементов управления, они чаще всего не сразу поддерживаются этим адаптером.

В этом случае элемент управления будет иметь «Неизвестно:» перед своим именем. Например. `Unknown: Wallbox`

Эти элементы управления будут содержать все состояния, о которых сообщает Miniserver, но все они будут строками, доступными только для чтения.

Если вам нужна лучшая поддержка нового типа элемента управления, выполните действия, описанные в следующем разделе, чтобы запросить новую функцию.

**Sentry:** о неподдерживаемых типах элементов управления будет сообщено разработчикам, использующим Sentry. Таким образом, вы можете получить новые элементы управления в следующем выпуске, не запрашивая их самостоятельно.

## Отчеты об ошибках и запросы функций
Пожалуйста, используйте репозиторий GitHub, чтобы сообщать о любых ошибках или запрашивать новые функции.

Если вам требуется неподдерживаемый тип элемента управления, укажите имя, указанное в журнале ошибок ioBroker, а также полное необработанное содержимое устройства в дереве объектов ioBroker:

Пример файла журнала для «LightController»:

![Журнал отсутствия элемента управления LightController](../../../en/adapterref/iobroker.loxone/doc/log-missing-control-type.png)

Собственное значение от ioBroker &gt; Объекты

![Сведения об отсутствующем элементе управления LightController](../../../en/adapterref/iobroker.loxone/doc/details-missing-control-type.png)

## Юридический
Этот проект не связан прямо или косвенно с компанией Loxone Electronics GmbH.

Loxone и Miniserver являются зарегистрированными товарными знаками Loxone Electronics GmbH.

## Changelog

<!--
    Placeholder for the next version (at the beginning of the line):
    ### **WORK IN PROGRESS**
-->

### **WORK IN PROGRESS**

-   (raintonr) Added info statistics (#364)
-   (raintonr) Added basic functionality for Remote (Media Controller)

### 3.0.0 (2021-12-29)

-   (tdesmet) Changed to lxcommunicator (fixes #210)
-   (UncleSamSwiss) Updated all dependencies

### 2.2.3 (2021-07-06)

-   (UncleSamSwiss) Reduced number of Sentry reports for unsupported controls.

### 2.2.2 (2021-06-23)

-   (UncleSamSwiss) Explicitly setting adapter tier to 2.
-   (UncleSamSwiss) Added support for Daytimer (IOBROKER-LOXONE-1Z)
-   (UncleSamSwiss) Added support for Radio (IOBROKER-LOXONE-21)
-   (UncleSamSwiss) Added support for Fronius (IOBROKER-LOXONE-1Y)
-   (UncleSamSwiss) Added support for IRCDaytimer (IOBROKER-LOXONE-27)
-   (UncleSamSwiss) Added support for Hourcounter (IOBROKER-LOXONE-23)
-   (UncleSamSwiss) Added support for InfoOnlyText (IOBROKER-LOXONE-29)
-   (UncleSamSwiss) Fixed issues with Lumitech color pickers (#150)

### 2.2.1 (2021-05-18)

-   (UncleSamSwiss) Fixed typo causing "Cannot read property 'off' of undefined" (IOBROKER-LOXONE-2R, #72)
-   (UncleSamSwiss) Improved Sentry reporting for structure file

### 2.2.0 (2021-05-17)

-   (UncleSamSwiss) Unknown/unsupported controls are now shown with their states as read-only strings
-   (raintonr) Fixes for auto-position based on percentage (#76)
-   (raintonr) Added support for IRoomControllerV2 (#22)
-   (UncleSamSwiss) Added experimental support for EIBDimmer (#15)
-   (UncleSamSwiss) Added support for ValueSelector (#36)
-   (UncleSamSwiss) Added support for TextState (#73)
-   (UncleSamSwiss) Added support for UpDownAnalog (#57)
-   (UncleSamSwiss) Fixed some "State has wrong type" warnings (#99, #128)
-   (UncleSamSwiss) Added support for Lumitech color picker (#44)
-   (UncleSamSwiss) Weather server data can now be filtered (#131)
-   (UncleSamSwiss) Added support for PresenceDetector (IOBROKER-LOXONE-1R)
-   (UncleSamSwiss) Added support for AAL Smart Alarm (IOBROKER-LOXONE-1X)
-   (UncleSamSwiss) Added support for AAL Emergency Button (IOBROKER-LOXONE-1W)
-   (UncleSamSwiss) Added support for Paketsafe (IOBROKER-LOXONE-1P)

### 2.1.0 (2020-12-21)

-   (raintonr) Fixed: activeMoods can get stuck/not sync properly; all events is now handled with a queue (#58, #61, #62)
-   (raintonr) Added open/close buttons to Garage/Gate Control (#59, #60)
-   (pinkit) Added support for virtual text inputs (#48)
-   (UncleSamSwiss) Updated to the latest adapter template
-   (UncleSamSwiss) Changed log level of "Currently unsupported control type" message to "info" (#65)

### 2.0.2 (2020-10-26)

-   (UncleSamSwiss) Fixed color picker updates (#52)
-   (UncleSamSwiss) TimedSwitch to have `on`/`off` instead of `active` (#53)
-   (UncleSamSwiss) Cleaning illegal characters for room and function names (#54)

### 2.0.1 (2020-09-24)

-   (UncleSamSwiss) Fixed percentage states always showing 0% (#49)
-   (UncleSamSwiss) Fixed analog virtual inputs wouldn't set the value 0 from ioBroker (#47)
-   (UncleSamSwiss) Added translations to package information.

### 2.0.0

-   **BREAKING:** Since the password is now encrypted, you will need to enter the password again after an update to this version!
-   (UncleSamSwiss) Updated to the latest development tools and changed to the TypeScript language

### 1.1.0

-   (UncleSamSwiss) Added support for Miniserver Gen 2
-   (sstroot) RGB for LightControllerV2
-   (Apollon77) Updated CI Testing

### 1.0.0

-   (UncleSamSwiss) Fixed issue that was resetting the custom settings and cloud smartName
-   (alladdin) Fixed connection issues with Loxone Miniserver 10
-   (UncleSamSwiss) Changed all write-only "switch"es to "button"s
-   (UncleSamSwiss) Added support for AlarmClock control
-   (Apollon77) Updated CI Testing

### 0.4.0

-   (UncleSamSwiss) Improved support for Loxone Config 9
-   (UncleSamSwiss) Changed all color choosers (i.e. color lights) to use RGB (previously HSV/HSL was completely wrong)

### 0.3.0

-   (UncleSamSwiss) Control names only synchronized on the first time by default (configurable); users can change control names the way they want

### 0.2.1

-   (UncleSamSwiss) Added support for Slider control

### 0.2.0

-   (UncleSamSwiss) Added proper support for Alexa for the following controls: Alarm, AudioZone, Gate, Jalousie and LightController

### 0.1.1

-   (UncleSamSwiss) Added support for synchronizing rooms and functions (categories) from Loxone Miniserver

### 0.1.0

-   (UncleSamSwiss) Added support for many more controls including commands from ioBroker to Loxone Miniserver

### 0.0.3

-   (Bluefox) Formatting, refactoring and Russian translations

### 0.0.2

-   (UncleSamSwiss) Added creation of an empty device for all unsupported controls (helps figure out its configuration)

### 0.0.1

-   (UncleSamSwiss) Initial version

## License

Copyright 2022 UncleSamSwiss

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.